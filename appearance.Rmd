---
title: "Customizing dashboard appearance"
output:
  html_document:
    toc: true
    template: ./template-toc.html
---

```{r echo = FALSE, message=FALSE}
library(shiny)
library(shinydashboard)
library(webshot)

knitr::opts_chunk$set(collapse = TRUE, comment = "##")

# Print HTML tags as HTML text
knit_print.shiny.tag <- function(x, ...) {
  as.character(x)
}
```

**shinydashboard** is built using [AdminLTE](https://github.com/almasaeed2010/AdminLTE), which in turn uses [Bootstrap 3](http://getbootstrap.com/).

## Skins

There are two color themes, or skins: blue and black. The default is blue. You can choose which theme to use with `shinyDashboard(skin="blue")` or `shinyDashboard(skin="black")`.

Blue:

```{r eval=FALSE, echo=FALSE}
appshot('_apps/dashboard/', 'images/skin-blue.png',
  delay=1, vheight=500, cliprect = "viewport"
) %>%
  resize('75%') %>%
  shrink()
```

![Blue skin](images/skin-blue.png)

Black:

```{r eval=FALSE, echo=FALSE}
appshot('_apps/dashboard/', 'images/skin-black.png',
  delay=1, vheight=500, cliprect = "viewport",
  envvars = c(DASHBOARD_SKIN = 'black')
) %>%
  resize('75%') %>%
  shrink()
```

![Black skin](images/skin-black.png)


## CSS

You can add custom CSS to your app by creating a `www/` subdirectory to your app and adding a CSS file there. Suppose, for example, you want to change the title font of your dashboard to the same font as the rest of the dashboard, so that it looks like this:


```{r eval=FALSE, echo=FALSE}
appshot('_apps/css-logo-font/', 'images/css-logo-font.png',
  delay=1, vwidth=780, selector="header"
) %>%
  resize('75%') %>%
  shrink()
```

![Custom font](images/css-logo-font.png)

To do this, first create a file named `www/custom.css` with the following:

```css
body > .header .logo {
  font-family: "Georgia", Times, "Times New Roman", serif;
  font-weight: bold;
  font-size: 24px;
}
```

Then refer to that CSS file from the UI of your app:

```{r eval=FALSE}
## ui.R ##
dashboardPage(
  dashboardHeader(title = "Custom font"),
  dashboardSidebar(),
  dashboardBody(
    tags$head(
      tags$link(rel = "stylesheet", type = "text/css", href = "custom.css")
    )
  )
)
```


A second way to include CSS is to put it directly in the UI code for your app:

```{r eval=FALSE}
## ui.R ##
dashboardPage(
  dashboardHeader(title = "Custom font"),
  dashboardSidebar(),
  dashboardBody(
    tags$head(tags$style(HTML('
      body > .header .logo {
        font-family: "Georgia", Times, "Times New Roman", serif;
        font-weight: bold;
        font-size: 24px;
      }
    ')))
  )
)
```

There other ways to add custom CSS to a Shiny application. See Shiny's [CSS article](http://shiny.rstudio.com/articles/css.html) for more information.


## Icons

Icons are used liberally in shinydashboard. The icons used in Shiny and shinydashboard are really just characters from special font sets, and they're created with Shiny's `icon()` function.

To create a calendar icon, you'd call:

```{r eval=FALSE}
icon("calendar")
```

This simply generates HTML like this, which the browser knows what to do with:

```HTML
<i class="fa fa-calendar"></i>
```

The icons are from Font-Awesome and Glyphicons. You can see lists of all available icons here:

* http://fontawesome.io/icons/
* http://getbootstrap.com/components/#glyphicons


By default, the `icon()` function uses icons from Font-Awesome. To use Glyphicons, use `lib="glyphicon"`)

```{r eval=FALSE}
"Calendar from Font-Awesome:", icon("calendar"),
"Cog from Glyphicons:", icon("cog", lib = "glyphicon")
```

```{r eval=FALSE, echo=FALSE}
appshot('_apps/icons/', 'images/icons.png',
  delay=1, vwidth=780, selector="#content", expand = 10
) %>%
  shrink()
```

![Icons](images/icons.png)

## Statuses and colors

Many **shinydashboard** components have a `status` or `color` argument.

`status` is a property of some Bootstrap classes. It can have values like `status="primary"`, `status="success"`, and others. The image below shows which colors they usually are associated with:

```{r eval=FALSE, echo=FALSE}
appshot('_apps/color-status', 'images/statuses.png',
  delay=1, selector="div.row", expand = c(10,0,0,0)
) %>%
  shrink()
```

![Statuses](images/statuses.png)


The `color` argument is more straightforward. It can have values like `color="red"`, `color="black"`, and others. Here are the names and appearances of colors:

```{r eval=FALSE, echo=FALSE}
appshot('_apps/color-status', 'images/colors.png',
  delay=1, vwidth=1024, selector="div.row:nth-of-type(2)", expand = c(10,0,0,0)
) %>%
  shrink()
```

![Colors](images/colors.png)

The valid statuses and colors are also listed in `?validStatuses` and `?validColors`.
